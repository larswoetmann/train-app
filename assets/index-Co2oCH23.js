(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))f(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&f(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();var je={},X={},U={},p={},ze;function b(){if(ze)return p;ze=1,Object.defineProperty(p,"__esModule",{value:!0}),p.areaConversion=p.timeConversion=p.distanceConversion=p.altitudeKeys=p.latitudeKeys=p.longitudeKeys=p.MAXLON=p.MINLON=p.MAXLAT=p.MINLAT=p.earthRadius=p.sexagesimalPattern=void 0;var e=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;p.sexagesimalPattern=e;var u=6378137;p.earthRadius=u;var i=-90;p.MINLAT=i;var f=90;p.MAXLAT=f;var r=-180;p.MINLON=r;var n=180;p.MAXLON=n;var o=["lng","lon","longitude",0];p.longitudeKeys=o;var a=["lat","latitude",1];p.latitudeKeys=a;var t=["alt","altitude","elevation","elev",2];p.altitudeKeys=t;var l={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};p.distanceConversion=l;var d={m:60,h:3600,d:86400};p.timeConversion=d;var s={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};return p.areaConversion=s,s.sqm=s.m2,s.sqkm=s.km2,s.sqft=s.ft2,s.sqyd=s.yd2,s.sqin=s.in2,p}var k={},Qe;function Ee(){if(Qe)return k;Qe=1,Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var e=function(f,r){return r.reduce(function(n,o){if(typeof f>"u"||f===null)throw new Error("'".concat(f,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(f,o)&&typeof o<"u"&&typeof n>"u"?(n=o,o):n},void 0)},u=e;return k.default=u,k}var Y={},H={},et;function Ge(){if(et)return H;et=1,Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var e=function(f){var r=f.toString().trim();return isNaN(parseFloat(r))?!1:parseFloat(r)===Number(r)},u=e;return H.default=u,H}var Z={},tt;function Ke(){if(tt)return Z;tt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0;var e=b(),u=function(r){return e.sexagesimalPattern.test(r.toString().trim())},i=u;return Z.default=i,Z}var J={},rt;function Fe(){if(rt)return J;rt=1,Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var e=b(),u=function(r){var n=new RegExp(e.sexagesimalPattern).exec(r.toString().trim());if(typeof n>"u"||n===null)throw new Error("Given value is not in sexagesimal format");var o=Number(n[2])/60||0,a=Number(n[4])/3600||0,t=parseFloat(n[1])+o+a;return["S","W"].includes(n[7])?-t:t},i=u;return J.default=i,J}var z={},Q={},at;function He(){if(at)return Q;at=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var e=b(),u=i(Ee());function i(t){return t&&t.__esModule?t:{default:t}}function f(t,l){var d=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);l&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),d.push.apply(d,s)}return d}function r(t){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?f(Object(d),!0).forEach(function(s){n(t,s,d[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(d)):f(Object(d)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(d,s))})}return t}function n(t,l,d){return l in t?Object.defineProperty(t,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):t[l]=d,t}var o=function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:e.longitudeKeys,latitude:e.latitudeKeys,altitude:e.altitudeKeys},s=(0,u.default)(l,d.longitude),c=(0,u.default)(l,d.latitude),v=(0,u.default)(l,d.altitude);return r({latitude:c,longitude:s},v?{altitude:v}:{})},a=o;return Q.default=a,Q}var ee={},nt;function Ft(){if(nt)return ee;nt=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=void 0;var e=r(Ge()),u=r(Ke()),i=r(Fe()),f=b();function r(a){return a&&a.__esModule?a:{default:a}}var n=function a(t){return(0,e.default)(t)?!(parseFloat(t)>f.MAXLAT||t<f.MINLAT):(0,u.default)(t)?a((0,i.default)(t)):!1},o=n;return ee.default=o,ee}var te={},ut;function Wt(){if(ut)return te;ut=1,Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var e=r(Ge()),u=r(Ke()),i=r(Fe()),f=b();function r(a){return a&&a.__esModule?a:{default:a}}var n=function a(t){return(0,e.default)(t)?!(parseFloat(t)>f.MAXLON||t<f.MINLON):(0,u.default)(t)?a((0,i.default)(t)):!1},o=n;return te.default=o,te}var it;function Vt(){if(it)return z;it=1,Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var e=f(He()),u=f(Ft()),i=f(Wt());function f(o){return o&&o.__esModule?o:{default:o}}var r=function(a){var t=(0,e.default)(a),l=t.latitude,d=t.longitude;if(Array.isArray(a)&&a.length>=2)return(0,i.default)(a[0])&&(0,u.default)(a[1]);if(typeof l>"u"||typeof d>"u")return!1;var s=a[d],c=a[l];return!(typeof c>"u"||typeof s>"u"||(0,u.default)(c)===!1||(0,i.default)(s)===!1)},n=r;return z.default=n,z}var ot;function Ze(){if(ot)return Y;ot=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=void 0;var e=n(Ge()),u=n(Ke()),i=n(Fe()),f=n(Vt()),r=n(He());function n(s){return s&&s.__esModule?s:{default:s}}function o(s,c){var v=Object.keys(s);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(s);c&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(s,y).enumerable})),v.push.apply(v,g)}return v}function a(s){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?o(Object(v),!0).forEach(function(g){t(s,g,v[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(v)):o(Object(v)).forEach(function(g){Object.defineProperty(s,g,Object.getOwnPropertyDescriptor(v,g))})}return s}function t(s,c,v){return c in s?Object.defineProperty(s,c,{value:v,enumerable:!0,configurable:!0,writable:!0}):s[c]=v,s}var l=function s(c){if((0,e.default)(c))return Number(c);if((0,u.default)(c))return(0,i.default)(c);if((0,f.default)(c)){var v=(0,r.default)(c);return Array.isArray(c)?c.map(function(g,y){return[0,1].includes(y)?s(g):g}):a(a(a({},c),v.latitude&&t({},v.latitude,s(c[v.latitude]))),v.longitude&&t({},v.longitude,s(c[v.longitude])))}return Array.isArray(c)?c.map(function(g){return(0,f.default)(g)?s(g):g}):c},d=l;return Y.default=d,Y}var dt;function C(){if(dt)return U;dt=1,Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var e=b(),u=f(Ee()),i=f(Ze());function f(o){return o&&o.__esModule?o:{default:o}}var r=function(a,t){var l=(0,u.default)(a,e.latitudeKeys);if(!(typeof l>"u"||l===null)){var d=a[l];return t===!0?d:(0,i.default)(d)}},n=r;return U.default=n,U}var re={},lt;function S(){if(lt)return re;lt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var e=b(),u=f(Ee()),i=f(Ze());function f(o){return o&&o.__esModule?o:{default:o}}var r=function(a,t){var l=(0,u.default)(a,e.longitudeKeys);if(!(typeof l>"u"||l===null)){var d=a[l];return t===!0?d:(0,i.default)(d)}},n=r;return re.default=n,re}var ae={},ft;function A(){if(ft)return ae;ft=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0;var e=function(f){return f*Math.PI/180},u=e;return ae.default=u,ae}var ne={},st;function F(){if(st)return ne;st=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=void 0;var e=function(f){return f*180/Math.PI},u=e;return ne.default=u,ne}var ct;function Jt(){if(ct)return X;ct=1,Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var e=n(C()),u=n(S()),i=n(A()),f=n(F()),r=b();function n(t){return t&&t.__esModule?t:{default:t}}var o=function(l,d,s){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,v=(0,e.default)(l),g=(0,u.default)(l),y=d/c,h=(0,i.default)(s),M=(0,i.default)(v),R=(0,i.default)(g),q=Math.asin(Math.sin(M)*Math.cos(y)+Math.cos(M)*Math.sin(y)*Math.cos(h)),L=R+Math.atan2(Math.sin(h)*Math.sin(y)*Math.cos(M),Math.cos(y)-Math.sin(M)*Math.sin(q)),O=(0,f.default)(L);return(O<r.MINLON||O>r.MAXLON)&&(L=(L+3*Math.PI)%(2*Math.PI)-Math.PI,O=(0,f.default)(L)),{latitude:(0,f.default)(q),longitude:O}},a=o;return X.default=a,X}var ue={},vt;function zt(){if(vt)return ue;vt=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var e=b(),u=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",o=e.areaConversion[n];if(o)return r*o;throw new Error("Invalid unit used for area conversion.")},i=u;return ue.default=i,ue}var ie={},gt;function Qt(){if(gt)return ie;gt=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;var e=b(),u=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",o=e.distanceConversion[n];if(o)return r*o;throw new Error("Invalid unit used for distance conversion.")},i=u;return ie.default=i,ie}var oe={},mt;function er(){if(mt)return oe;mt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0;var e=b(),u=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(n){case"kmh":return r*e.timeConversion.h*e.distanceConversion.km;case"mph":return r*e.timeConversion.h*e.distanceConversion.mi;default:return r}},i=u;return oe.default=i,oe}var de={},_t;function tr(){if(_t)return de;_t=1,Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;function e(l,d){return n(l)||r(l,d)||i(l,d)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(l,d){if(l){if(typeof l=="string")return f(l,d);var s=Object.prototype.toString.call(l).slice(8,-1);if(s==="Object"&&l.constructor&&(s=l.constructor.name),s==="Map"||s==="Set")return Array.from(l);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return f(l,d)}}function f(l,d){(d==null||d>l.length)&&(d=l.length);for(var s=0,c=new Array(d);s<d;s++)c[s]=l[s];return c}function r(l,d){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var s=[],c=!0,v=!1,g=void 0;try{for(var y=l[Symbol.iterator](),h;!(c=(h=y.next()).done)&&(s.push(h.value),!(d&&s.length===d));c=!0);}catch(M){v=!0,g=M}finally{try{!c&&y.return!=null&&y.return()}finally{if(v)throw g}}return s}}function n(l){if(Array.isArray(l))return l}var o=function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,c=Math.pow(10,s);return Math.round(d*c)/c},a=function(d){var s=d.toString().split("."),c=e(s,2),v=c[0],g=c[1],y=Math.abs(Number(v)),h=+("0."+(g||0))*60,M=h.toString().split("."),R=Math.floor(h),q=o(+("0."+(M[1]||0))*60).toString(),L=q.split("."),O=e(L,2),P=O[0],D=O[1],I=D===void 0?"0":D;return y+"° "+R.toString().padStart(2,"0")+"' "+P.padStart(2,"0")+"."+I.padEnd(1,"0")+'"'},t=a;return de.default=t,de}var le={},fe={},se={},ce={},yt;function xt(){if(yt)return ce;yt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var e=function(f){return f>1?1:f<-1?-1:f},u=e;return ce.default=u,ce}var ht;function $(){if(ht)return se;ht=1,Object.defineProperty(se,"__esModule",{value:!0}),se.default=void 0;var e=n(C()),u=n(S()),i=n(A()),f=n(xt()),r=b();function n(t){return t&&t.__esModule?t:{default:t}}var o=function(l,d){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;s=typeof s<"u"&&!isNaN(s)?s:1;var c=(0,e.default)(l),v=(0,u.default)(l),g=(0,e.default)(d),y=(0,u.default)(d),h=Math.acos((0,f.default)(Math.sin((0,i.default)(g))*Math.sin((0,i.default)(c))+Math.cos((0,i.default)(g))*Math.cos((0,i.default)(c))*Math.cos((0,i.default)(v)-(0,i.default)(y))))*r.earthRadius;return Math.round(h/s)*s},a=o;return se.default=a,se}var pt;function jt(){if(pt)return fe;pt=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var e=u($());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default;return a=typeof a=="function"?a:e.default,o.slice().sort(function(t,l){return a(n,t)-a(n,l)})},f=i;return fe.default=f,fe}var Pt;function rr(){if(Pt)return le;Pt=1,Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0;var e=u(jt());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n,o){return(0,e.default)(n,o)[0]},f=i;return le.default=f,le}var ve={},Mt;function ar(){if(Mt)return ve;Mt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var e=r(A()),u=r(C()),i=r(S()),f=b();function r(a){return a&&a.__esModule?a:{default:a}}var n=function(t){var l=0;if(t.length>2){for(var d,s,c,v=0;v<t.length;v++){v===t.length-2?(d=t.length-2,s=t.length-1,c=0):v===t.length-1?(d=t.length-1,s=0,c=1):(d=v,s=v+1,c=v+2);var g=(0,i.default)(t[d]),y=(0,u.default)(t[s]),h=(0,i.default)(t[c]);l+=((0,e.default)(h)-(0,e.default)(g))*Math.sin((0,e.default)(y))}l=l*f.earthRadius*f.earthRadius/2}return Math.abs(l)},o=n;return ve.default=o,ve}var ge={},Dt;function Xt(){if(Dt)return ge;Dt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var e=i(C()),u=i(S());function i(n){return n&&n.__esModule?n:{default:n}}var f=function(o){if(Array.isArray(o)===!1||o.length===0)throw new Error("No points were given.");return o.reduce(function(a,t){var l=(0,e.default)(t),d=(0,u.default)(t);return{maxLat:Math.max(l,a.maxLat),minLat:Math.min(l,a.minLat),maxLng:Math.max(d,a.maxLng),minLng:Math.min(d,a.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},r=f;return ge.default=r,ge}var me={},Ot;function nr(){if(Ot)return me;Ot=1,Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;var e=n(C()),u=n(S()),i=n(A()),f=n(F()),r=b();function n(t){return t&&t.__esModule?t:{default:t}}var o=function(l,d){var s=(0,e.default)(l),c=(0,u.default)(l),v=(0,i.default)(s),g=(0,i.default)(c),y=d/r.earthRadius,h=v-y,M=v+y,R=(0,i.default)(r.MAXLAT),q=(0,i.default)(r.MINLAT),L=(0,i.default)(r.MAXLON),O=(0,i.default)(r.MINLON),P,D;if(h>q&&M<R){var I=Math.asin(Math.sin(y)/Math.cos(v));P=g-I,P<O&&(P+=Math.PI*2),D=g+I,D>L&&(D-=Math.PI*2)}else h=Math.max(h,q),M=Math.min(M,R),P=O,D=L;return[{latitude:(0,f.default)(h),longitude:(0,f.default)(P)},{latitude:(0,f.default)(M),longitude:(0,f.default)(D)}]},a=o;return me.default=a,me}var _e={},Lt;function ur(){if(Lt)return _e;Lt=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=r(C()),u=r(S()),i=r(A()),f=r(F());function r(a){return a&&a.__esModule?a:{default:a}}var n=function(t){if(Array.isArray(t)===!1||t.length===0)return!1;var l=t.length,d=t.reduce(function(g,y){var h=(0,i.default)((0,e.default)(y)),M=(0,i.default)((0,u.default)(y));return{X:g.X+Math.cos(h)*Math.cos(M),Y:g.Y+Math.cos(h)*Math.sin(M),Z:g.Z+Math.sin(h)}},{X:0,Y:0,Z:0}),s=d.X/l,c=d.Y/l,v=d.Z/l;return{longitude:(0,f.default)(Math.atan2(c,s)),latitude:(0,f.default)(Math.atan2(v,Math.sqrt(s*s+c*c)))}},o=n;return _e.default=o,_e}var ye={},bt;function ir(){if(bt)return ye;bt=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var e=u(Xt());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n){var o=(0,e.default)(n),a=o.minLat+(o.maxLat-o.minLat)/2,t=o.minLng+(o.maxLng-o.minLng)/2;return{latitude:parseFloat(a.toFixed(6)),longitude:parseFloat(t.toFixed(6))}},f=i;return ye.default=f,ye}var he={},pe={},Rt;function Ut(){if(Rt)return pe;Rt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var e=r(C()),u=r(S()),i=r(A()),f=r(F());function r(a){return a&&a.__esModule?a:{default:a}}var n=function(t,l){var d=(0,i.default)((0,u.default)(l))-(0,i.default)((0,u.default)(t)),s=Math.log(Math.tan((0,i.default)((0,e.default)(l))/2+Math.PI/4)/Math.tan((0,i.default)((0,e.default)(t))/2+Math.PI/4));return Math.abs(d)>Math.PI&&(d>0?d=(Math.PI*2-d)*-1:d=Math.PI*2+d),((0,f.default)(Math.atan2(d,s))+360)%360},o=n;return pe.default=o,pe}var qt;function or(){if(qt)return he;qt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var e=u(Ut());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default,t=typeof a=="function"?a(n,o):(0,e.default)(n,o);if(isNaN(t))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(t/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},f=i;return he.default=f,he}var Pe={},Ct;function kt(){if(Ct)return Pe;Ct=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var e=i($()),u=i(xt());function i(n){return n&&n.__esModule?n:{default:n}}var f=function(o,a,t){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,d=(0,e.default)(a,o,l),s=(0,e.default)(o,t,l),c=(0,e.default)(a,t,l),v=Math.acos((0,u.default)((d*d+c*c-s*s)/(2*d*c))),g=Math.acos((0,u.default)((s*s+c*c-d*d)/(2*s*c)));return v>Math.PI/2?d:g>Math.PI/2?s:Math.sin(v)*d},r=f;return Pe.default=r,Pe}var Me={},St;function dr(){if(St)return Me;St=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var e=r(C()),u=r(S()),i=r(A()),f=r(F());function r(a){return a&&a.__esModule?a:{default:a}}var n=function(t,l){var d=(0,e.default)(l),s=(0,u.default)(l),c=(0,e.default)(t),v=(0,u.default)(t),g=((0,f.default)(Math.atan2(Math.sin((0,i.default)(s)-(0,i.default)(v))*Math.cos((0,i.default)(d)),Math.cos((0,i.default)(c))*Math.sin((0,i.default)(d))-Math.sin((0,i.default)(c))*Math.cos((0,i.default)(d))*Math.cos((0,i.default)(s)-(0,i.default)(v))))+360)%360;return g},o=n;return Me.default=o,Me}var De={},Nt;function lr(){if(Nt)return De;Nt=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var e=u($());function u(n){return n&&n.__esModule?n:{default:n}}function i(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(a){return typeof a}:i=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i(n)}var f=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default;return o.reduce(function(t,l){return i(t)==="object"&&t.last!==null&&(t.distance+=a(l,t.last)),t.last=l,t},{last:null,distance:0}).distance},r=f;return De.default=r,De}var Oe={},It;function fr(){if(It)return Oe;It=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var e=r(C()),u=r(S()),i=r(A()),f=b();function r(a){return a&&a.__esModule?a:{default:a}}var n=function(t,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d=typeof d<"u"&&!isNaN(d)?d:1;var s=(0,e.default)(t),c=(0,u.default)(t),v=(0,e.default)(l),g=(0,u.default)(l),y=6356752314245e-6,h=1/298.257223563,M=(0,i.default)(g-c),R,q,L,O,P,D,I=Math.atan((1-h)*Math.tan((0,i.default)(parseFloat(s)))),Ae=Math.atan((1-h)*Math.tan((0,i.default)(parseFloat(v)))),B=Math.sin(I),E=Math.cos(I),G=Math.sin(Ae),T=Math.cos(Ae),w=M,Te,we=100;do{var W=Math.sin(w),V=Math.cos(w);if(D=Math.sqrt(T*W*(T*W)+(E*G-B*T*V)*(E*G-B*T*V)),D===0)return 0;R=B*G+E*T*V,q=Math.atan2(D,R),L=E*T*W/D,O=1-L*L,P=R-2*B*G/O,isNaN(P)&&(P=0);var x=h/16*O*(4+h*(4-3*O));Te=w,w=M+(1-x)*h*L*(q+x*D*(P+x*R*(-1+2*P*P)))}while(Math.abs(w-Te)>1e-12&&--we>0);if(we===0)return NaN;var N=O*(f.earthRadius*f.earthRadius-y*y)/(y*y),We=1+N/16384*(4096+N*(-768+N*(320-175*N))),j=N/1024*(256+N*(-128+N*(74-47*N))),Ve=j*D*(P+j/4*(R*(-1+2*P*P)-j/6*P*(-3+4*D*D)*(-3+4*P*P))),xe=y*We*(q-Ve);return Math.round(xe/d)*d},o=n;return Oe.default=o,Oe}var Le={},At;function sr(){if(At)return Le;At=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var e=function(f){if(/^(NNE|NE|NNW|N)$/.test(f))return"N";if(/^(ENE|E|ESE|SE)$/.test(f))return"E";if(/^(SSE|S|SSW|SW)$/.test(f))return"S";if(/^(WSW|W|WNW|NW)$/.test(f))return"W"},u=e;return Le.default=u,Le}var be={},Tt;function cr(){if(Tt)return be;Tt=1,Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var e=u($());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default,t=a(n,o),l=Number(o.time)-Number(n.time),d=t/l*1e3;return d},f=i;return be.default=f,be}var Re={},wt;function vr(){if(wt)return Re;wt=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;var e=u($());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n,o,a){return(0,e.default)(o,n)+(0,e.default)(n,a)===(0,e.default)(o,a)},f=i;return Re.default=f,Re}var qe={},$t;function gr(){if($t)return qe;$t=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var e=i(C()),u=i(S());function i(n){return n&&n.__esModule?n:{default:n}}var f=function(o,a){for(var t=!1,l=a.length,d=-1,s=l-1;++d<l;s=d)((0,u.default)(a[d])<=(0,u.default)(o)&&(0,u.default)(o)<(0,u.default)(a[s])||(0,u.default)(a[s])<=(0,u.default)(o)&&(0,u.default)(o)<(0,u.default)(a[d]))&&(0,e.default)(o)<((0,e.default)(a[s])-(0,e.default)(a[d]))*((0,u.default)(o)-(0,u.default)(a[d]))/((0,u.default)(a[s])-(0,u.default)(a[d]))+(0,e.default)(a[d])&&(t=!t);return t},r=f;return qe.default=r,qe}var Ce={},Bt;function mr(){if(Bt)return Ce;Bt=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var e=u(kt());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n,o,a,t){return(0,e.default)(n,o,a)<t},f=i;return Ce.default=f,Ce}var Se={},Et;function _r(){if(Et)return Se;Et=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var e=u($());function u(r){return r&&r.__esModule?r:{default:r}}var i=function(n,o,a){var t=.01;return(0,e.default)(n,o,t)<a},f=i;return Se.default=f,Se}var Ne={},Gt;function yr(){if(Gt)return Ne;Gt=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;function e(t,l){return n(t)||r(t,l)||i(t,l)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(t,l){if(t){if(typeof t=="string")return f(t,l);var d=Object.prototype.toString.call(t).slice(8,-1);if(d==="Object"&&t.constructor&&(d=t.constructor.name),d==="Map"||d==="Set")return Array.from(t);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return f(t,l)}}function f(t,l){(l==null||l>t.length)&&(l=t.length);for(var d=0,s=new Array(l);d<l;d++)s[d]=t[d];return s}function r(t,l){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var d=[],s=!0,c=!1,v=void 0;try{for(var g=t[Symbol.iterator](),y;!(s=(y=g.next()).done)&&(d.push(y.value),!(l&&d.length===l));s=!0);}catch(h){c=!0,v=h}finally{try{!s&&g.return!=null&&g.return()}finally{if(c)throw v}}return d}}function n(t){if(Array.isArray(t))return t}var o=function(l){if(!l.startsWith("POLYGON"))throw new Error("Invalid wkt.");var d=l.slice(l.indexOf("(")+2,l.indexOf(")")).split(", "),s=d.map(function(c){var v=c.split(" "),g=e(v,2),y=g[0],h=g[1];return{longitude:parseFloat(y),latitude:parseFloat(h)}});return s},a=o;return Ne.default=a,Ne}var Kt;function hr(){return Kt||(Kt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var u={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(e,"computeDestinationPoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"convertArea",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"convertSpeed",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"decimalToSexagesimal",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"findNearest",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"getAreaOfPolygon",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"getBounds",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"getBoundsOfDistance",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getCenter",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"getCenterOfBounds",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getCompassDirection",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"getCoordinateKey",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"getCoordinateKeys",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"getDistance",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getDistanceFromLine",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"getGreatCircleBearing",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"getLatitude",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"getLongitude",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"getPathLength",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"getPreciseDistance",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"getRhumbLineBearing",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"getRoughCompassDirection",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"getSpeed",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(e,"isDecimal",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"isPointInLine",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"isPointInPolygon",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"isPointNearLine",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"isPointWithinRadius",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"isSexagesimal",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(e,"isValidCoordinate",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(e,"isValidLatitude",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"isValidLongitude",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"orderByDistance",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"sexagesimalToDecimal",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"toDecimal",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(e,"toRad",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"toDeg",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(e,"wktToPolygon",{enumerable:!0,get:function(){return xe.default}});var i=_(Jt()),f=_(zt()),r=_(Qt()),n=_(er()),o=_(tr()),a=_(rr()),t=_(ar()),l=_(Xt()),d=_(nr()),s=_(ur()),c=_(ir()),v=_(or()),g=_(Ee()),y=_(He()),h=_($()),M=_(kt()),R=_(dr()),q=_(C()),L=_(S()),O=_(lr()),P=_(fr()),D=_(Ut()),I=_(sr()),Ae=_(cr()),B=_(Ge()),E=_(vr()),G=_(gr()),T=_(mr()),w=_(_r()),Te=_(Ke()),we=_(Vt()),W=_(Ft()),V=_(Wt()),x=_(jt()),N=_(Fe()),We=_(Ze()),j=_(A()),Ve=_(F()),xe=_(yr()),Je=b();Object.keys(Je).forEach(function(m){m==="default"||m==="__esModule"||Object.prototype.hasOwnProperty.call(u,m)||Object.defineProperty(e,m,{enumerable:!0,get:function(){return Je[m]}})});function _(m){return m&&m.__esModule?m:{default:m}}}(je)),je}var Xe=hr();const Ie={longitude:12.318323,latitude:55.747485,id:"8600709",name:"Måløv Station"},Be={longitude:12.587784,latitude:55.692498,id:"8600650",name:"Østerport Station"},Ue={longitude:12.403532,latitude:55.722765,id:"8600707",name:"Skovlunde Station"};var Ye,K,$e,ke;function Yt(){const e=new Date;console.log("Global timer",K,e),(!K||e>K)&&navigator.geolocation.getCurrentPosition(u=>{const i=u.coords.latitude,f=u.coords.longitude;var{closestStation:r}=Ht(i,f);console.log("Closest Station "+r),pr(r)},u=>{const i=document.getElementById("countdown");i.textContent="Unable to retrieve your location",console.log(u)})}Yt();setInterval(Yt,6e4);navigator.geolocation.watchPosition(e=>{const u=e.coords.latitude,i=e.coords.longitude;var{closestStationName:f,closestDistance:r}=Ht(u,i);const n=document.getElementById("status");n.textContent=`Closest station: ${f} (${r} m), Speed: ${e.coords.speed} m/s`},e=>{const u=document.getElementById("status");u.textContent="Unable to retrieve your location",console.log(e)},{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3});function Ht(e,u){const i=Xe.getDistance({latitude:e,longitude:u},Ie),f=Xe.getDistance({latitude:e,longitude:u},Be),r=Xe.getDistance({latitude:e,longitude:u},Ue);var n=Be.id,o=Be.name,a=f;return i<a&&(n=Ie.id,o=Ie.name,a=i),r<a&&(n=Ue.id,o=Ue.name,a=r),{closestStationName:o,closestDistance:a,closestStation:n}}function pr(e){var u="E,C",i=0;fetch(`https://www.rejseplanen.dk/api/departureBoard?accessId=5f2f5f78-f98b-4c63-bb69-c1a3b8757f77&aid=&requestId=&format=json&jsonpCallback=&lang=da&id=${e}&extId=&date=&time=&dur=&duration=60&maxJourneys=30&products=&operators=&categories=&lines=${u}&attributes=&platforms=&passlist=false&passlistMaxStops=&minDur=&baim=false&rtMode=SERVER_DEFAULT&type=DEP&`).then(f=>f.json()).catch(f=>console.log(f)).then(f=>{const r=f.Departure,n=document.getElementById("departures");n.innerHTML="",console.log(r),r.forEach(o=>{if(i<6&&Pr(o,e)){var a=Zt(o.rtTime||o.time);(!K||a<K)&&(K=a);const t=document.createElement("li");t.textContent=`${o.rtTime||o.time} ${o.name} ${o.direction}`,t.attributes.setNamedItem(document.createAttribute("data")),t.attributes.getNamedItem("data").value=o.JourneyDetailRef.ref,Ye===o.JourneyDetailRef.ref&&(t.style.backgroundColor="green"),n.appendChild(t),i++}})})}function Pr(e,u){return e.name=="C"?e.directionFlag==="1"&&u===Ie.id||e.directionFlag==="0"&&u!=Ie.id:e.name=="E"&&e.direction=="Farum St."?e.directionFlag==="1"&&u===Be.id:!1}document.getElementById("departures").addEventListener("click",function(e){const u=e.target;if(document.getElementById("departures").childNodes.forEach(o=>{o.style.backgroundColor=""}),$e&&clearInterval($e),u.tagName!=="LI"){Ye="";const o=document.getElementById("countdown");o.textContent="";return}Ye=u.attributes.getNamedItem("data").value,u.style.backgroundColor="green";const f=u.textContent.split(" ")[0],r=Zt(f),n=document.getElementById("countdown");n.textContent="",ke=0,$e=setInterval(function(){const o=new Date,a=r.getTime()-o.getTime();if(a<=0){clearInterval($e),n.textContent="Departure time";return}const t=Math.floor(a/6e4),l=Math.floor(a%6e4/1e3);n.textContent=`${t}:${l<10?"0":""}${l}`,t>0&&t<=10&&ke!=t+1&&(ke=t+1,console.log("Play minute",t+1),new Audio("/train-app/"+(t+1)+".mp3").play()),console.log("Countdown",t,l)},1e3)});function Zt(e){const u=new Date,i=e.split(":");return u.setHours(parseInt(i[0])),u.setMinutes(parseInt(i[1])),u.setSeconds(0),u}
