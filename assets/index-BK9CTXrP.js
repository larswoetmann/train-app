(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}})();var xe={},X={},U={},p={},Je;function b(){if(Je)return p;Je=1,Object.defineProperty(p,"__esModule",{value:!0}),p.areaConversion=p.timeConversion=p.distanceConversion=p.altitudeKeys=p.latitudeKeys=p.longitudeKeys=p.MAXLON=p.MINLON=p.MAXLAT=p.MINLAT=p.earthRadius=p.sexagesimalPattern=void 0;var t=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;p.sexagesimalPattern=t;var u=6378137;p.earthRadius=u;var i=-90;p.MINLAT=i;var s=90;p.MAXLAT=s;var e=-180;p.MINLON=e;var a=180;p.MAXLON=a;var l=["lng","lon","longitude",0];p.longitudeKeys=l;var n=["lat","latitude",1];p.latitudeKeys=n;var r=["alt","altitude","elevation","elev",2];p.altitudeKeys=r;var o={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};p.distanceConversion=o;var d={m:60,h:3600,d:86400};p.timeConversion=d;var f={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};return p.areaConversion=f,f.sqm=f.m2,f.sqkm=f.km2,f.sqft=f.ft2,f.sqyd=f.yd2,f.sqin=f.in2,p}var k={},ze;function Be(){if(ze)return k;ze=1,Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var t=function(s,e){return e.reduce(function(a,l){if(typeof s>"u"||s===null)throw new Error("'".concat(s,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(s,l)&&typeof l<"u"&&typeof a>"u"?(a=l,l):a},void 0)},u=t;return k.default=u,k}var Y={},H={},Qe;function Ee(){if(Qe)return H;Qe=1,Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var t=function(s){var e=s.toString().trim();return isNaN(parseFloat(e))?!1:parseFloat(e)===Number(e)},u=t;return H.default=u,H}var Z={},et;function Ge(){if(et)return Z;et=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0;var t=b(),u=function(e){return t.sexagesimalPattern.test(e.toString().trim())},i=u;return Z.default=i,Z}var J={},tt;function Ke(){if(tt)return J;tt=1,Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var t=b(),u=function(e){var a=new RegExp(t.sexagesimalPattern).exec(e.toString().trim());if(typeof a>"u"||a===null)throw new Error("Given value is not in sexagesimal format");var l=Number(a[2])/60||0,n=Number(a[4])/3600||0,r=parseFloat(a[1])+l+n;return["S","W"].includes(a[7])?-r:r},i=u;return J.default=i,J}var z={},Q={},rt;function Ye(){if(rt)return Q;rt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var t=b(),u=i(Be());function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);o&&(f=f.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),d.push.apply(d,f)}return d}function e(r){for(var o=1;o<arguments.length;o++){var d=arguments[o]!=null?arguments[o]:{};o%2?s(Object(d),!0).forEach(function(f){a(r,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):s(Object(d)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(d,f))})}return r}function a(r,o,d){return o in r?Object.defineProperty(r,o,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[o]=d,r}var l=function(o){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:t.longitudeKeys,latitude:t.latitudeKeys,altitude:t.altitudeKeys},f=(0,u.default)(o,d.longitude),c=(0,u.default)(o,d.latitude),v=(0,u.default)(o,d.altitude);return e({latitude:c,longitude:f},v?{altitude:v}:{})},n=l;return Q.default=n,Q}var ee={},at;function Kt(){if(at)return ee;at=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=void 0;var t=e(Ee()),u=e(Ge()),i=e(Ke()),s=b();function e(n){return n&&n.__esModule?n:{default:n}}var a=function n(r){return(0,t.default)(r)?!(parseFloat(r)>s.MAXLAT||r<s.MINLAT):(0,u.default)(r)?n((0,i.default)(r)):!1},l=a;return ee.default=l,ee}var te={},nt;function Wt(){if(nt)return te;nt=1,Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var t=e(Ee()),u=e(Ge()),i=e(Ke()),s=b();function e(n){return n&&n.__esModule?n:{default:n}}var a=function n(r){return(0,t.default)(r)?!(parseFloat(r)>s.MAXLON||r<s.MINLON):(0,u.default)(r)?n((0,i.default)(r)):!1},l=a;return te.default=l,te}var ut;function Ft(){if(ut)return z;ut=1,Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var t=s(Ye()),u=s(Kt()),i=s(Wt());function s(l){return l&&l.__esModule?l:{default:l}}var e=function(n){var r=(0,t.default)(n),o=r.latitude,d=r.longitude;if(Array.isArray(n)&&n.length>=2)return(0,i.default)(n[0])&&(0,u.default)(n[1]);if(typeof o>"u"||typeof d>"u")return!1;var f=n[d],c=n[o];return!(typeof c>"u"||typeof f>"u"||(0,u.default)(c)===!1||(0,i.default)(f)===!1)},a=e;return z.default=a,z}var it;function He(){if(it)return Y;it=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=void 0;var t=a(Ee()),u=a(Ge()),i=a(Ke()),s=a(Ft()),e=a(Ye());function a(f){return f&&f.__esModule?f:{default:f}}function l(f,c){var v=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);c&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(f,y).enumerable})),v.push.apply(v,g)}return v}function n(f){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?l(Object(v),!0).forEach(function(g){r(f,g,v[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(v)):l(Object(v)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(v,g))})}return f}function r(f,c,v){return c in f?Object.defineProperty(f,c,{value:v,enumerable:!0,configurable:!0,writable:!0}):f[c]=v,f}var o=function f(c){if((0,t.default)(c))return Number(c);if((0,u.default)(c))return(0,i.default)(c);if((0,s.default)(c)){var v=(0,e.default)(c);return Array.isArray(c)?c.map(function(g,y){return[0,1].includes(y)?f(g):g}):n(n(n({},c),v.latitude&&r({},v.latitude,f(c[v.latitude]))),v.longitude&&r({},v.longitude,f(c[v.longitude])))}return Array.isArray(c)?c.map(function(g){return(0,s.default)(g)?f(g):g}):c},d=o;return Y.default=d,Y}var ot;function C(){if(ot)return U;ot=1,Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var t=b(),u=s(Be()),i=s(He());function s(l){return l&&l.__esModule?l:{default:l}}var e=function(n,r){var o=(0,u.default)(n,t.latitudeKeys);if(!(typeof o>"u"||o===null)){var d=n[o];return r===!0?d:(0,i.default)(d)}},a=e;return U.default=a,U}var re={},dt;function S(){if(dt)return re;dt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var t=b(),u=s(Be()),i=s(He());function s(l){return l&&l.__esModule?l:{default:l}}var e=function(n,r){var o=(0,u.default)(n,t.longitudeKeys);if(!(typeof o>"u"||o===null)){var d=n[o];return r===!0?d:(0,i.default)(d)}},a=e;return re.default=a,re}var ae={},lt;function A(){if(lt)return ae;lt=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0;var t=function(s){return s*Math.PI/180},u=t;return ae.default=u,ae}var ne={},ft;function W(){if(ft)return ne;ft=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=void 0;var t=function(s){return s*180/Math.PI},u=t;return ne.default=u,ne}var st;function Zt(){if(st)return X;st=1,Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var t=a(C()),u=a(S()),i=a(A()),s=a(W()),e=b();function a(r){return r&&r.__esModule?r:{default:r}}var l=function(o,d,f){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,v=(0,t.default)(o),g=(0,u.default)(o),y=d/c,h=(0,i.default)(f),M=(0,i.default)(v),R=(0,i.default)(g),q=Math.asin(Math.sin(M)*Math.cos(y)+Math.cos(M)*Math.sin(y)*Math.cos(h)),L=R+Math.atan2(Math.sin(h)*Math.sin(y)*Math.cos(M),Math.cos(y)-Math.sin(M)*Math.sin(q)),O=(0,s.default)(L);return(O<e.MINLON||O>e.MAXLON)&&(L=(L+3*Math.PI)%(2*Math.PI)-Math.PI,O=(0,s.default)(L)),{latitude:(0,s.default)(q),longitude:O}},n=l;return X.default=n,X}var ue={},ct;function Jt(){if(ct)return ue;ct=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var t=b(),u=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",l=t.areaConversion[a];if(l)return e*l;throw new Error("Invalid unit used for area conversion.")},i=u;return ue.default=i,ue}var ie={},vt;function zt(){if(vt)return ie;vt=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;var t=b(),u=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",l=t.distanceConversion[a];if(l)return e*l;throw new Error("Invalid unit used for distance conversion.")},i=u;return ie.default=i,ie}var oe={},gt;function Qt(){if(gt)return oe;gt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0;var t=b(),u=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(a){case"kmh":return e*t.timeConversion.h*t.distanceConversion.km;case"mph":return e*t.timeConversion.h*t.distanceConversion.mi;default:return e}},i=u;return oe.default=i,oe}var de={},mt;function er(){if(mt)return de;mt=1,Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;function t(o,d){return a(o)||e(o,d)||i(o,d)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(o,d){if(o){if(typeof o=="string")return s(o,d);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return s(o,d)}}function s(o,d){(d==null||d>o.length)&&(d=o.length);for(var f=0,c=new Array(d);f<d;f++)c[f]=o[f];return c}function e(o,d){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(o)))){var f=[],c=!0,v=!1,g=void 0;try{for(var y=o[Symbol.iterator](),h;!(c=(h=y.next()).done)&&(f.push(h.value),!(d&&f.length===d));c=!0);}catch(M){v=!0,g=M}finally{try{!c&&y.return!=null&&y.return()}finally{if(v)throw g}}return f}}function a(o){if(Array.isArray(o))return o}var l=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,c=Math.pow(10,f);return Math.round(d*c)/c},n=function(d){var f=d.toString().split("."),c=t(f,2),v=c[0],g=c[1],y=Math.abs(Number(v)),h=+("0."+(g||0))*60,M=h.toString().split("."),R=Math.floor(h),q=l(+("0."+(M[1]||0))*60).toString(),L=q.split("."),O=t(L,2),P=O[0],D=O[1],I=D===void 0?"0":D;return y+"° "+R.toString().padStart(2,"0")+"' "+P.padStart(2,"0")+"."+I.padEnd(1,"0")+'"'},r=n;return de.default=r,de}var le={},fe={},se={},ce={},_t;function Vt(){if(_t)return ce;_t=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var t=function(s){return s>1?1:s<-1?-1:s},u=t;return ce.default=u,ce}var yt;function $(){if(yt)return se;yt=1,Object.defineProperty(se,"__esModule",{value:!0}),se.default=void 0;var t=a(C()),u=a(S()),i=a(A()),s=a(Vt()),e=b();function a(r){return r&&r.__esModule?r:{default:r}}var l=function(o,d){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;f=typeof f<"u"&&!isNaN(f)?f:1;var c=(0,t.default)(o),v=(0,u.default)(o),g=(0,t.default)(d),y=(0,u.default)(d),h=Math.acos((0,s.default)(Math.sin((0,i.default)(g))*Math.sin((0,i.default)(c))+Math.cos((0,i.default)(g))*Math.cos((0,i.default)(c))*Math.cos((0,i.default)(v)-(0,i.default)(y))))*e.earthRadius;return Math.round(h/f)*f},n=l;return se.default=n,se}var ht;function xt(){if(ht)return fe;ht=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var t=u($());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a,l){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default;return n=typeof n=="function"?n:t.default,l.slice().sort(function(r,o){return n(a,r)-n(a,o)})},s=i;return fe.default=s,fe}var pt;function tr(){if(pt)return le;pt=1,Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0;var t=u(xt());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a,l){return(0,t.default)(a,l)[0]},s=i;return le.default=s,le}var ve={},Pt;function rr(){if(Pt)return ve;Pt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var t=e(A()),u=e(C()),i=e(S()),s=b();function e(n){return n&&n.__esModule?n:{default:n}}var a=function(r){var o=0;if(r.length>2){for(var d,f,c,v=0;v<r.length;v++){v===r.length-2?(d=r.length-2,f=r.length-1,c=0):v===r.length-1?(d=r.length-1,f=0,c=1):(d=v,f=v+1,c=v+2);var g=(0,i.default)(r[d]),y=(0,u.default)(r[f]),h=(0,i.default)(r[c]);o+=((0,t.default)(h)-(0,t.default)(g))*Math.sin((0,t.default)(y))}o=o*s.earthRadius*s.earthRadius/2}return Math.abs(o)},l=a;return ve.default=l,ve}var ge={},Mt;function jt(){if(Mt)return ge;Mt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var t=i(C()),u=i(S());function i(a){return a&&a.__esModule?a:{default:a}}var s=function(l){if(Array.isArray(l)===!1||l.length===0)throw new Error("No points were given.");return l.reduce(function(n,r){var o=(0,t.default)(r),d=(0,u.default)(r);return{maxLat:Math.max(o,n.maxLat),minLat:Math.min(o,n.minLat),maxLng:Math.max(d,n.maxLng),minLng:Math.min(d,n.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},e=s;return ge.default=e,ge}var me={},Dt;function ar(){if(Dt)return me;Dt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;var t=a(C()),u=a(S()),i=a(A()),s=a(W()),e=b();function a(r){return r&&r.__esModule?r:{default:r}}var l=function(o,d){var f=(0,t.default)(o),c=(0,u.default)(o),v=(0,i.default)(f),g=(0,i.default)(c),y=d/e.earthRadius,h=v-y,M=v+y,R=(0,i.default)(e.MAXLAT),q=(0,i.default)(e.MINLAT),L=(0,i.default)(e.MAXLON),O=(0,i.default)(e.MINLON),P,D;if(h>q&&M<R){var I=Math.asin(Math.sin(y)/Math.cos(v));P=g-I,P<O&&(P+=Math.PI*2),D=g+I,D>L&&(D-=Math.PI*2)}else h=Math.max(h,q),M=Math.min(M,R),P=O,D=L;return[{latitude:(0,s.default)(h),longitude:(0,s.default)(P)},{latitude:(0,s.default)(M),longitude:(0,s.default)(D)}]},n=l;return me.default=n,me}var _e={},Ot;function nr(){if(Ot)return _e;Ot=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(C()),u=e(S()),i=e(A()),s=e(W());function e(n){return n&&n.__esModule?n:{default:n}}var a=function(r){if(Array.isArray(r)===!1||r.length===0)return!1;var o=r.length,d=r.reduce(function(g,y){var h=(0,i.default)((0,t.default)(y)),M=(0,i.default)((0,u.default)(y));return{X:g.X+Math.cos(h)*Math.cos(M),Y:g.Y+Math.cos(h)*Math.sin(M),Z:g.Z+Math.sin(h)}},{X:0,Y:0,Z:0}),f=d.X/o,c=d.Y/o,v=d.Z/o;return{longitude:(0,s.default)(Math.atan2(c,f)),latitude:(0,s.default)(Math.atan2(v,Math.sqrt(f*f+c*c)))}},l=a;return _e.default=l,_e}var ye={},Lt;function ur(){if(Lt)return ye;Lt=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var t=u(jt());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a){var l=(0,t.default)(a),n=l.minLat+(l.maxLat-l.minLat)/2,r=l.minLng+(l.maxLng-l.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}},s=i;return ye.default=s,ye}var he={},pe={},bt;function Xt(){if(bt)return pe;bt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var t=e(C()),u=e(S()),i=e(A()),s=e(W());function e(n){return n&&n.__esModule?n:{default:n}}var a=function(r,o){var d=(0,i.default)((0,u.default)(o))-(0,i.default)((0,u.default)(r)),f=Math.log(Math.tan((0,i.default)((0,t.default)(o))/2+Math.PI/4)/Math.tan((0,i.default)((0,t.default)(r))/2+Math.PI/4));return Math.abs(d)>Math.PI&&(d>0?d=(Math.PI*2-d)*-1:d=Math.PI*2+d),((0,s.default)(Math.atan2(d,f))+360)%360},l=a;return pe.default=l,pe}var Rt;function ir(){if(Rt)return he;Rt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var t=u(Xt());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a,l){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default,r=typeof n=="function"?n(a,l):(0,t.default)(a,l);if(isNaN(r))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(r/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},s=i;return he.default=s,he}var Pe={},qt;function Ut(){if(qt)return Pe;qt=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var t=i($()),u=i(Vt());function i(a){return a&&a.__esModule?a:{default:a}}var s=function(l,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,d=(0,t.default)(n,l,o),f=(0,t.default)(l,r,o),c=(0,t.default)(n,r,o),v=Math.acos((0,u.default)((d*d+c*c-f*f)/(2*d*c))),g=Math.acos((0,u.default)((f*f+c*c-d*d)/(2*f*c)));return v>Math.PI/2?d:g>Math.PI/2?f:Math.sin(v)*d},e=s;return Pe.default=e,Pe}var Me={},Ct;function or(){if(Ct)return Me;Ct=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var t=e(C()),u=e(S()),i=e(A()),s=e(W());function e(n){return n&&n.__esModule?n:{default:n}}var a=function(r,o){var d=(0,t.default)(o),f=(0,u.default)(o),c=(0,t.default)(r),v=(0,u.default)(r),g=((0,s.default)(Math.atan2(Math.sin((0,i.default)(f)-(0,i.default)(v))*Math.cos((0,i.default)(d)),Math.cos((0,i.default)(c))*Math.sin((0,i.default)(d))-Math.sin((0,i.default)(c))*Math.cos((0,i.default)(d))*Math.cos((0,i.default)(f)-(0,i.default)(v))))+360)%360;return g},l=a;return Me.default=l,Me}var De={},St;function dr(){if(St)return De;St=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var t=u($());function u(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(n){return typeof n}:i=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(a)}var s=function(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default;return l.reduce(function(r,o){return i(r)==="object"&&r.last!==null&&(r.distance+=n(o,r.last)),r.last=o,r},{last:null,distance:0}).distance},e=s;return De.default=e,De}var Oe={},Nt;function lr(){if(Nt)return Oe;Nt=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var t=e(C()),u=e(S()),i=e(A()),s=b();function e(n){return n&&n.__esModule?n:{default:n}}var a=function(r,o){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d=typeof d<"u"&&!isNaN(d)?d:1;var f=(0,t.default)(r),c=(0,u.default)(r),v=(0,t.default)(o),g=(0,u.default)(o),y=6356752314245e-6,h=1/298.257223563,M=(0,i.default)(g-c),R,q,L,O,P,D,I=Math.atan((1-h)*Math.tan((0,i.default)(parseFloat(f)))),Ie=Math.atan((1-h)*Math.tan((0,i.default)(parseFloat(v)))),B=Math.sin(I),E=Math.cos(I),G=Math.sin(Ie),T=Math.cos(Ie),w=M,Ae,Te=100;do{var F=Math.sin(w),V=Math.cos(w);if(D=Math.sqrt(T*F*(T*F)+(E*G-B*T*V)*(E*G-B*T*V)),D===0)return 0;R=B*G+E*T*V,q=Math.atan2(D,R),L=E*T*F/D,O=1-L*L,P=R-2*B*G/O,isNaN(P)&&(P=0);var x=h/16*O*(4+h*(4-3*O));Ae=w,w=M+(1-x)*h*L*(q+x*D*(P+x*R*(-1+2*P*P)))}while(Math.abs(w-Ae)>1e-12&&--Te>0);if(Te===0)return NaN;var N=O*(s.earthRadius*s.earthRadius-y*y)/(y*y),We=1+N/16384*(4096+N*(-768+N*(320-175*N))),j=N/1024*(256+N*(-128+N*(74-47*N))),Fe=j*D*(P+j/4*(R*(-1+2*P*P)-j/6*P*(-3+4*D*D)*(-3+4*P*P))),Ve=y*We*(q-Fe);return Math.round(Ve/d)*d},l=a;return Oe.default=l,Oe}var Le={},It;function fr(){if(It)return Le;It=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var t=function(s){if(/^(NNE|NE|NNW|N)$/.test(s))return"N";if(/^(ENE|E|ESE|SE)$/.test(s))return"E";if(/^(SSE|S|SSW|SW)$/.test(s))return"S";if(/^(WSW|W|WNW|NW)$/.test(s))return"W"},u=t;return Le.default=u,Le}var be={},At;function sr(){if(At)return be;At=1,Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var t=u($());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a,l){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default,r=n(a,l),o=Number(l.time)-Number(a.time),d=r/o*1e3;return d},s=i;return be.default=s,be}var Re={},Tt;function cr(){if(Tt)return Re;Tt=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;var t=u($());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a,l,n){return(0,t.default)(l,a)+(0,t.default)(a,n)===(0,t.default)(l,n)},s=i;return Re.default=s,Re}var qe={},wt;function vr(){if(wt)return qe;wt=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var t=i(C()),u=i(S());function i(a){return a&&a.__esModule?a:{default:a}}var s=function(l,n){for(var r=!1,o=n.length,d=-1,f=o-1;++d<o;f=d)((0,u.default)(n[d])<=(0,u.default)(l)&&(0,u.default)(l)<(0,u.default)(n[f])||(0,u.default)(n[f])<=(0,u.default)(l)&&(0,u.default)(l)<(0,u.default)(n[d]))&&(0,t.default)(l)<((0,t.default)(n[f])-(0,t.default)(n[d]))*((0,u.default)(l)-(0,u.default)(n[d]))/((0,u.default)(n[f])-(0,u.default)(n[d]))+(0,t.default)(n[d])&&(r=!r);return r},e=s;return qe.default=e,qe}var Ce={},$t;function gr(){if($t)return Ce;$t=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var t=u(Ut());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a,l,n,r){return(0,t.default)(a,l,n)<r},s=i;return Ce.default=s,Ce}var Se={},Bt;function mr(){if(Bt)return Se;Bt=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var t=u($());function u(e){return e&&e.__esModule?e:{default:e}}var i=function(a,l,n){var r=.01;return(0,t.default)(a,l,r)<n},s=i;return Se.default=s,Se}var Ne={},Et;function _r(){if(Et)return Ne;Et=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;function t(r,o){return a(r)||e(r,o)||i(r,o)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(r,o){if(r){if(typeof r=="string")return s(r,o);var d=Object.prototype.toString.call(r).slice(8,-1);if(d==="Object"&&r.constructor&&(d=r.constructor.name),d==="Map"||d==="Set")return Array.from(r);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return s(r,o)}}function s(r,o){(o==null||o>r.length)&&(o=r.length);for(var d=0,f=new Array(o);d<o;d++)f[d]=r[d];return f}function e(r,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var d=[],f=!0,c=!1,v=void 0;try{for(var g=r[Symbol.iterator](),y;!(f=(y=g.next()).done)&&(d.push(y.value),!(o&&d.length===o));f=!0);}catch(h){c=!0,v=h}finally{try{!f&&g.return!=null&&g.return()}finally{if(c)throw v}}return d}}function a(r){if(Array.isArray(r))return r}var l=function(o){if(!o.startsWith("POLYGON"))throw new Error("Invalid wkt.");var d=o.slice(o.indexOf("(")+2,o.indexOf(")")).split(", "),f=d.map(function(c){var v=c.split(" "),g=t(v,2),y=g[0],h=g[1];return{longitude:parseFloat(y),latitude:parseFloat(h)}});return f},n=l;return Ne.default=n,Ne}var Gt;function yr(){return Gt||(Gt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var u={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(t,"computeDestinationPoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"convertArea",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"convertSpeed",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"decimalToSexagesimal",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"findNearest",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"getAreaOfPolygon",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getBoundsOfDistance",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getCenter",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"getCenterOfBounds",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"getCompassDirection",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"getCoordinateKey",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"getCoordinateKeys",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"getDistance",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"getDistanceFromLine",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"getGreatCircleBearing",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"getLatitude",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"getLongitude",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"getPathLength",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"getPreciseDistance",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"getRhumbLineBearing",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"getRoughCompassDirection",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"getSpeed",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(t,"isDecimal",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"isPointInLine",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"isPointInPolygon",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(t,"isPointNearLine",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"isPointWithinRadius",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"isSexagesimal",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(t,"isValidCoordinate",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(t,"isValidLatitude",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"isValidLongitude",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"orderByDistance",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"sexagesimalToDecimal",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"toDecimal",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(t,"toRad",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"toDeg",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(t,"wktToPolygon",{enumerable:!0,get:function(){return Ve.default}});var i=_(Zt()),s=_(Jt()),e=_(zt()),a=_(Qt()),l=_(er()),n=_(tr()),r=_(rr()),o=_(jt()),d=_(ar()),f=_(nr()),c=_(ur()),v=_(ir()),g=_(Be()),y=_(Ye()),h=_($()),M=_(Ut()),R=_(or()),q=_(C()),L=_(S()),O=_(dr()),P=_(lr()),D=_(Xt()),I=_(fr()),Ie=_(sr()),B=_(Ee()),E=_(cr()),G=_(vr()),T=_(gr()),w=_(mr()),Ae=_(Ge()),Te=_(Ft()),F=_(Kt()),V=_(Wt()),x=_(xt()),N=_(Ke()),We=_(He()),j=_(A()),Fe=_(W()),Ve=_(_r()),Ze=b();Object.keys(Ze).forEach(function(m){m==="default"||m==="__esModule"||Object.prototype.hasOwnProperty.call(u,m)||Object.defineProperty(t,m,{enumerable:!0,get:function(){return Ze[m]}})});function _(m){return m&&m.__esModule?m:{default:m}}}(xe)),xe}var je=yr();const $e={longitude:12.318323,latitude:55.747485,id:"8600709",name:"Måløv Station"},Xe={longitude:12.587784,latitude:55.692498,id:"8600650",name:"Østerport Station"},Ue={longitude:12.403532,latitude:55.722765,id:"8600707",name:"Skovlunde Station"};var ke,K,we;function kt(){const t=new Date;console.log("Global timer",K,t),(!K||t>K)&&navigator.geolocation.getCurrentPosition(u=>{const i=u.coords.latitude,s=u.coords.longitude;var{closestStation:e}=Yt(i,s);hr(e)},u=>{const i=document.getElementById("countdown");i.textContent="Unable to retrieve your location",console.log(u)})}kt();setInterval(kt,6e4);navigator.geolocation.watchPosition(t=>{const u=t.coords.latitude,i=t.coords.longitude;var{closestStationName:s,closestDistance:e}=Yt(u,i);const a=document.getElementById("status");a.textContent=`Closest station: ${s} (${e} m), Speed: ${t.coords.speed} m/s`},t=>{const u=document.getElementById("status");u.textContent="Unable to retrieve your location",console.log(t)},{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3});function Yt(t,u){const i=je.getDistance({latitude:t,longitude:u},$e),s=je.getDistance({latitude:t,longitude:u},Xe),e=je.getDistance({latitude:t,longitude:u},Ue);var a=Xe.id,l=Xe.name,n=s;return i<n&&(a=$e.id,l=$e.name,n=i),e<n&&(a=Ue.id,l=Ue.name,n=e),{closestStationName:l,closestDistance:n,closestStation:a}}function hr(t){fetch(`https://www.rejseplanen.dk/api/departureBoard?accessId=5f2f5f78-f98b-4c63-bb69-c1a3b8757f77&aid=&requestId=&format=json&jsonpCallback=&lang=da&id=${t}&extId=&date=&time=&dur=&duration=60&maxJourneys=8&products=&operators=&categories=&lines=C&attributes=&platforms=&passlist=false&passlistMaxStops=&minDur=&baim=false&rtMode=SERVER_DEFAULT&type=DEP&`).then(u=>u.json()).then(u=>{const i=u.Departure,s=document.getElementById("departures");s.innerHTML="",i.forEach(e=>{if(e.directionFlag==="1"&&t===$e.id){var a=Ht(e.time);(!K||a<K)&&(K=a);const l=document.createElement("li");l.textContent=`${e.time} ${e.name} ${e.direction}`,l.attributes.setNamedItem(document.createAttribute("data")),l.attributes.getNamedItem("data").value=e.JourneyDetailRef.ref,ke===e.JourneyDetailRef.ref&&(l.style.backgroundColor="green"),s.appendChild(l)}})})}document.getElementById("departures").addEventListener("click",function(t){const u=t.target;if(document.getElementById("departures").childNodes.forEach(l=>{l.style.backgroundColor=""}),we&&clearInterval(we),u.tagName!=="LI"){ke="";const l=document.getElementById("countdown");l.textContent="";return}ke=u.attributes.getNamedItem("data").value,u.style.backgroundColor="green";const s=u.textContent.split(" ")[0],e=Ht(s),a=document.getElementById("countdown");a.textContent="",we=setInterval(function(){const l=new Date,n=e.getTime()-l.getTime();if(n<=0){clearInterval(we),a.textContent="Departure time";return}const r=Math.floor(n/6e4),o=Math.floor(n%6e4/1e3);a.textContent=`${r}:${o<10?"0":""}${o}`,o==0&&r>0&&r<=10&&(console.log("Play sound"),new Audio("/train-app/"+r+".mp3").play()),console.log("Countdown",r,o)},1e3)});function Ht(t){const u=new Date,i=t.split(":");return u.setHours(parseInt(i[0])),u.setMinutes(parseInt(i[1])),u.setSeconds(0),u}
