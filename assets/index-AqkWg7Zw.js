(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();l();function l(){fetch("https://www.rejseplanen.dk/api/departureBoard?accessId=5f2f5f78-f98b-4c63-bb69-c1a3b8757f77&aid=&requestId=&format=json&jsonpCallback=&lang=da&id=8600709&extId=&direction=8600659&date=&time=&dur=&duration=60&maxJourneys=3&products=&operators=&categories=&lines=C&attributes=&platforms=&passlist=false&passlistMaxStops=&minDur=&baim=false&rtMode=SERVER_DEFAULT&type=DEP&").then(s=>s.json()).then(s=>{const n=s.Departure,o=document.getElementById("departures");o.innerHTML="",n.forEach(r=>{const e=document.createElement("li");e.textContent=`${r.time} ${r.name} ${r.direction}`,e.attributes.setNamedItem(document.createAttribute("data")),e.attributes.getNamedItem("data").value=r.JourneyDetailRef.ref,o.appendChild(e)})})}document.getElementById("departures").addEventListener("click",function(s){const n=s.target;if(n.tagName!=="LI")return;n.attributes.getNamedItem("data").value,n.style.backgroundColor="green";const o=n.textContent.split(" ")[0];console.log(o);const r=new Date,e=o.split(":");r.setHours(parseInt(e[0])),r.setMinutes(parseInt(e[1])),r.setSeconds(0),console.log(r);const t=document.getElementById("countdown");t.textContent="";const a=setInterval(function(){const d=new Date,i=r.getTime()-d.getTime();if(console.log(i),i<=0){clearInterval(a),t.textContent="Departure time";return}const u=Math.floor(i/6e4),c=Math.floor(i%6e4/1e3);t.textContent=`${u}:${c<10?"0":""}${c}`},1e3)});
